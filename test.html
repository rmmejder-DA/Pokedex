<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pokémon Fetch Beispiel</title>
<style>
  body { font-family: Arial, sans-serif; }
  .pokemon { display: flex; align-items: center; margin: 5px 0; }
  .pokemon img { width: 50px; height: 50px; margin-right: 10px; }
</style>
</head>
<body>

<h1>Pokémon Liste (10 von 60)</h1>
<div id="pokemon-list"></div>

<script>
let allPokemons = [];
let visibleCount = 10;

async function fetchPokemons() {
  const API_URL = "https://pokeapi.co/api/v2/pokemon?limit=60";
  try {
    const res = await fetch(API_URL);
    if (!res.ok) throw new Error(`HTTP Fehler: ${res.status}`);
    const data = await res.json();
    allPokemons = data.results;
    renderPokemons();
  } catch (err) {
    document.getElementById("pokemon-list").innerHTML = `<p style="color: red">Fehler: ${err.message}</p>`;
  }
}

function renderPokemons() {
  const pokemonListDiv = document.getElementById("pokemon-list");
  pokemonListDiv.innerHTML = "";
  for (let i = 0; i < Math.min(visibleCount, allPokemons.length); i++) {
    const pokemon = allPokemons[i];
    const pokemonDiv = document.createElement("div");
    pokemonDiv.className = "pokemon";
    pokemonDiv.innerHTML = `
      <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${i + 1}.png" alt="${pokemon.name}">
      <span>${pokemon.name.charAt(0).toUpperCase() + pokemon.name.slice(1)}</span>
    `;
    pokemonListDiv.appendChild(pokemonDiv);
  }
  
  if (visibleCount < allPokemons.length) {
    const button = document.createElement("button");
    button.textContent = "Mehr laden";
    button.onclick = loadMore;
    pokemonListDiv.appendChild(button);
  }
}

function loadMore() {
  visibleCount = Math.min(visibleCount + 10, allPokemons.length);
  renderPokemons();
}

fetchPokemons();
</script>

</body>
</html>
